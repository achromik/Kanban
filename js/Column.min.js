function Column(e,n){var t=this;this.id=e,this.name=n||"No given name",this.element=function(){var e=$('<div class="column"></div>').attr("id",t.id),n=$('<h2 class="column-title"><span>'+t.name+"</span></h2>"),a=$('<ul class="card-list"></ul>'),l=$("<button>").addClass("column-delete btn btn-danger").append("<i>").addClass("fa fa-times"),i=$("<button>").addClass("add-card btn btn-success").text("New card");return l.click(function(){t.deleteColumn()}),i.click(function(e){var n=prompt("Enter the name of card");e.preventDefault(),$.ajax({url:baseUrl+"/card",method:"POST",data:{name:n,bootcamp_kanban_column_id:t.id},success:function(e){var a=new Card(e.id,n);t.createCard(a)}})}),n.on("click",function(e){t.changeColumnName(e)}),e.append(n).append(l).append(i).append(a),e}()}Column.prototype={createCard:function(e){this.element.children("ul").append(e.element)},deleteColumn:function(){var e=this;0==$("#"+e.id+" .card-list").children().length?$.ajax({url:baseUrl+"/column/"+e.id,method:"DELETE",success:function(n){e.element.remove()}}):confirm("CAN'T DELETE! Column is not empty!")},changeColumnName:function(e){var n,t,a,l=this;if((n=e.target)&&"SPAN"===n.tagName.toUpperCase()){var i=$("#"+l.id+" .column-title").height();n.style.display="none",a=n.innerHTML,(t=$("<input>").val(a).attr("placeholder","Enter new name").addClass("column-title")).css({width:$("#"+l.id).width()-2,marginLeft:1,height:i-2}),$(n).before(t),t.focus(),t.select(),t.on("blur keypress",function(e){var i=e.keycode||e.which;if("blur"==e.type||"13"==i||"10"==i)if(e.preventDefault(),""!==t.val()&&t.val()!==a){var d=t.val();$.ajax({url:baseUrl+"/column/"+l.id,method:"PUT",data:{id:l.id,name:d},success:function(e){$(n).text(d),t.remove(),n.style.display=""}})}else t.remove(),n.style.display=""})}}};
//# sourceMappingURL=Column.min.js.map